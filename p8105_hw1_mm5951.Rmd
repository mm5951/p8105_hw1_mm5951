---
title: "Homework 1"
author: "mm5951"
date: "2022-09-18"
output: github_document
---
```{r, include = FALSE}
library(tidyverse)
library(dplyr)
```

Welcome to mm5951 homework 1 solution!

# Problem 1

## Load dataset

First, I'll **load the provided dataset** for this exercise.

```{r}
data("penguins", package = "palmerpenguins")
```

## Dataset description

Next, I will briefly describe the **key characteristics** of the **"penguins" dataset**. I'll first use the `skmr::skim`command to print out a summary of the dataset. The "penguins" dataset contains 344 rows and 8 columns. That corresponds to the data of n=8 different variables (columns) from n=344 penguins (rows).

The "penguins" dataset contains:
* 5 numerical variables ("bill_length_mm", "bill_depth_mm", "flipper_length_mm", "body_mass_g" and "year"), and 
* 3 categorical ones ("species", "island" and "sex"). 

As a summary, using the mean output, the average penguin will measure 43.92 mm in height and 17.15 mm in depth, have a flipper length of 200.92 mm and weight 4.2 kg. The overall dataset contains n=168 male and n=165 female from 3 main species (Adelie n=152, Gentoo n=124 and Chinstrap n=68). The data was collected between the years 2007-09.

```{r}
skimr::skim(penguins)
```

Alternatively, I could have used the `nrow`and `ncol` functions to return the number of rows and columns of the specified matrix ("penguins"), respectively.

```{r}
nrow(penguins)
ncol(penguins)
```

## Graphic outputs

Next, with the `ggplot`function, I will **produce a scatter plot** of the variables flipper_length_mm (y) vs bill_length_mm (x), using different color points for each species.  

```{r}
ggplot(penguins, aes(x = bill_length_mm, y = flipper_length_mm, color = species)) + geom_point()
```

Finally, using the `ggsave`function I will **save the scatter plot** in .png format into the project directory.

```{r}
ggsave("scatterplot.png")
```

# Problem 2

## Create a data frame

First, I will create a data frame using the `tibble`function, incorporating the following elements:

* a random sample of size 10 from a standard Normal distribution
* a logical vector indicating whether elements of the sample are greater than 0
* a character vector of length 10
* a factor vector of length 10, with 3 different factor “levels”

```{r}
Hw1_df = tibble(
  samp = rnorm(n = 10),
  vec_logical = samp > 0,
  vec_char = c("This", "is", "homework", "one", "solution", "for", "data", "science", "class", "fall" ),
  vec_factor = factor(c("male", "male", "female", "female", "nonbinary", "nonbinary", "male", "female", "nonbinary", "male"))
)
```

## Calculate means

Next, I will calculate the mean of some of the objects as created above using the `mean` function. Results will be round to three decimals using the function `round`. 

```{r}
round(mean(Hw1_df), 3)
```

I get an error given that the data type of some of the vectors is not numerical nor logical, rather character ("vec_char") or factorial ("vec_factor").

In order to calculate the mean for "samp" (data type: numerical) and "vec_logical (data type: logical), I will use the `pull`function to select these columns separately.

```{r}
round(
    mean(
      pull(.data = Hw1_df, var = samp)), 
    3)
round(
    mean(
      pull(.data = Hw1_df, var = vec_logical)), 
    3)
```

The means are -0.008 and 0.5 for the "samp" and "vec_logical" objects, respectively.

## Convert variable types

Finally, I will convert the logical, character, and factor variables into numerical using the `as.numeric`function. For each variable, I will use the `pull`function, so that they can be addressed separately from the "Hw1_df" dataframe. Note the chunk is shown, but not the output. 

```{r}
as.numeric(
  pull(.data = Hw1_df, var = vec_factor)
  )

as.numeric(
  pull(.data = Hw1_df, var = vec_logical)
  )

as.numeric(
  pull(.data = Hw1_df, var = vec_char)
  )
```

As a verification, I will check that the conversion has been successful using the `ìs.numeric` function.

```{r}
is.numeric(
  as.numeric(
    pull(.data = Hw1_df, var = vec_factor)
    )
  )

is.numeric(
  as.numeric(
    pull(.data = Hw1_df, var = vec_logical)
    )
  )

is.numeric(
  as.numeric(
    pull(.data = Hw1_df, var = vec_char)
    )
  )
```

The "vec_logical" and "vec_factor" are coerced into numeric elements, following a logical rationale (for instance, in "vec_logical", TRUE=1 and FALSE=0; in "vec_factor", its 3 levels are converted into female=1, male=2, nonbinary=3 according to their alphabetical order). The character vector "vec_char" is more challenging, given that there's no logical conversion possible with the provided criteria, and R coerces its 10 elements to NAs.

The kind of data contained in each variable determines whether a mean can be calculated. In general, means can be calculated for numerical and logical vectors (in the latter, using the TRUE=1 and FALSE=0 coercion). Once converted into numerical, the mean of the remaining vectors could be calculated (not recquired as per homework instructions).

That's it for homework 1!

